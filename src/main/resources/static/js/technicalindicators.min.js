/**
 * Minified by jsDelivr using Terser v5.37.0.
 * Original file: /npm/technicalindicators@3.1.0/dist/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
// Thêm đoạn code này để định nghĩa `exports` trong trình duyệt
var exports = window.exports = {};
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class Item{constructor(e,t,r){this.next=r,r&&(r.prev=this),this.prev=t,t&&(t.next=this),this.data=e}}class LinkedList{constructor(){this._length=0}get head(){return this._head&&this._head.data}get tail(){return this._tail&&this._tail.data}get current(){return this._current&&this._current.data}get length(){return this._length}push(e){this._tail=new Item(e,this._tail),0===this._length&&(this._head=this._tail,this._current=this._head,this._next=this._head),this._length++}pop(){var e=this._tail;if(0!==this._length)return this._length--,0===this._length?(this._head=this._tail=this._current=this._next=void 0,e.data):(this._tail=e.prev,this._tail.next=void 0,this._current===e&&(this._current=this._tail,this._next=void 0),e.data)}shift(){var e=this._head;if(0!==this._length)return this._length--,0===this._length?(this._head=this._tail=this._current=this._next=void 0,e.data):(this._head=this._head.next,this._current===e&&(this._current=this._head,this._next=this._current.next),e.data)}unshift(e){this._head=new Item(e,void 0,this._head),0===this._length&&(this._tail=this._head,this._next=this._head),this._length++}unshiftCurrent(){var e=this._current;return e===this._head||this._length<2?e&&e.data:(e===this._tail?(this._tail=e.prev,this._tail.next=void 0,this._current=this._tail):(e.next.prev=e.prev,e.prev.next=e.next,this._current=e.prev),this._next=this._current.next,e.next=this._head,e.prev=void 0,this._head.prev=e,this._head=e,e.data)}removeCurrent(){var e=this._current;if(0!==this._length)return this._length--,0===this._length?(this._head=this._tail=this._current=this._next=void 0,e.data):(e===this._tail?(this._tail=e.prev,this._tail.next=void 0,this._current=this._tail):e===this._head?(this._head=e.next,this._head.prev=void 0,this._current=this._head):(e.next.prev=e.prev,e.prev.next=e.next,this._current=e.prev),this._next=this._current.next,e.data)}resetCursor(){return this._current=this._next=this._head,this}next(){var e=this._next;if(void 0!==e)return this._next=e.next,this._current=e,e.data}}class FixedSizeLinkedList extends LinkedList{constructor(e,t,r,s){if(super(),this.size=e,this.maintainHigh=t,this.maintainLow=r,this.maintainSum=s,this.totalPushed=0,this.periodHigh=0,this.periodLow=1/0,this.periodSum=0,!e||"number"!=typeof e)throw"Size required and should be a number.";this._push=this.push,this.push=function(e){this.add(e),this.totalPushed++}}add(e){this.length===this.size?(this.lastShift=this.shift(),this._push(e),this.maintainHigh&&this.lastShift==this.periodHigh&&this.calculatePeriodHigh(),this.maintainLow&&this.lastShift==this.periodLow&&this.calculatePeriodLow(),this.maintainSum&&(this.periodSum=this.periodSum-this.lastShift)):this._push(e),this.maintainHigh&&this.periodHigh<=e&&(this.periodHigh=e),this.maintainLow&&this.periodLow>=e&&(this.periodLow=e),this.maintainSum&&(this.periodSum=this.periodSum+e)}*iterator(){for(this.resetCursor();this.next();)yield this.current}calculatePeriodHigh(){for(this.resetCursor(),this.next()&&(this.periodHigh=this.current);this.next();)this.periodHigh<=this.current&&(this.periodHigh=this.current)}calculatePeriodLow(){for(this.resetCursor(),this.next()&&(this.periodLow=this.current);this.next();)this.periodLow>=this.current&&(this.periodLow=this.current)}}class CandleData{}class CandleList{constructor(){this.open=[],this.high=[],this.low=[],this.close=[],this.volume=[],this.timestamp=[]}}let config={};function setConfig(e,t){config[e]=t}function getConfig(e){return config[e]}function format(e){let t=getConfig("precision");return t?parseFloat(e.toPrecision(t)):e}class IndicatorInput{}class Indicator{constructor(e){this.format=e.format||format}static reverseInputs(e){e.reversedInput&&(e.values&&e.values.reverse(),e.open&&e.open.reverse(),e.high&&e.high.reverse(),e.low&&e.low.reverse(),e.close&&e.close.reverse(),e.volume&&e.volume.reverse(),e.timestamp&&e.timestamp.reverse())}getResult(){return this.result}}class SMA extends Indicator{constructor(e){super(e),this.period=e.period,this.price=e.values;this.generator=function*(e){var t,r=new LinkedList,s=0,n=1,i=yield;for(r.push(0);;)n<e?(n++,r.push(i),s+=i):(t=(s=s-r.shift()+i)/e,r.push(i)),i=yield t}(this.period),this.generator.next(),this.result=[],this.price.forEach((e=>{var t=this.generator.next(e);void 0!==t.value&&this.result.push(this.format(t.value))}))}nextValue(e){var t=this.generator.next(e).value;if(null!=t)return this.format(t)}}function sma(e){Indicator.reverseInputs(e);var t=new SMA(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}SMA.calculate=sma;class EMA extends Indicator{constructor(e){super(e);var t,r=e.period,s=e.values,n=2/(r+1);this.result=[],t=new SMA({period:r,values:[]});this.generator=function*(){for(var e,r=yield;;)void 0!==e&&void 0!==r?(e=(r-e)*n+e,r=yield e):(r=yield,(e=t.nextValue(r))&&(r=yield e))}(),this.generator.next(),this.generator.next(),s.forEach((e=>{var t=this.generator.next(e);null!=t.value&&this.result.push(this.format(t.value))}))}nextValue(e){var t=this.generator.next(e).value;if(null!=t)return this.format(t)}}function ema(e){Indicator.reverseInputs(e);var t=new EMA(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}EMA.calculate=ema;class WMA extends Indicator{constructor(e){super(e);var t=e.period,r=e.values;this.result=[],this.generator=function*(){let e=new LinkedList,r=t*(t+1)/2;for(;;)if(e.length<t)e.push(yield);else{e.resetCursor();let n=0;for(let s=1;s<=t;s++)n+=e.next()*s/r;var s=yield n;e.shift(),e.push(s)}}(),this.generator.next(),r.forEach(((e,t)=>{var r=this.generator.next(e);null!=r.value&&this.result.push(this.format(r.value))}))}nextValue(e){var t=this.generator.next(e).value;if(null!=t)return this.format(t)}}function wma(e){Indicator.reverseInputs(e);var t=new WMA(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}WMA.calculate=wma;class WEMA extends Indicator{constructor(e){super(e);var t,r=e.period,s=e.values,n=1/r;this.result=[],t=new SMA({period:r,values:[]});this.generator=function*(){for(var e,r=yield;;)void 0!==e&&void 0!==r?(e=(r-e)*n+e,r=yield e):(r=yield,void 0!==(e=t.nextValue(r))&&(r=yield e))}(),this.generator.next(),this.generator.next(),s.forEach((e=>{var t=this.generator.next(e);null!=t.value&&this.result.push(this.format(t.value))}))}nextValue(e){var t=this.generator.next(e).value;if(null!=t)return this.format(t)}}function wema(e){Indicator.reverseInputs(e);var t=new WEMA(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}WEMA.calculate=wema;class MACD extends Indicator{constructor(e){super(e);var t=e.SimpleMAOscillator?SMA:EMA,r=e.SimpleMASignal?SMA:EMA,s=new t({period:e.fastPeriod,values:[],format:e=>e}),n=new t({period:e.slowPeriod,values:[],format:e=>e}),i=new r({period:e.signalPeriod,values:[],format:e=>e}),o=this.format;this.result=[],this.generator=function*(){for(var t,r,a,l,u,h,c=0;;)c<e.slowPeriod?(t=yield,u=s.nextValue(t),h=n.nextValue(t),c++):(u&&h&&(r=u-h,a=i.nextValue(r)),l=r-a,t=yield{MACD:o(r),signal:a?o(a):void 0,histogram:isNaN(l)?void 0:o(l)},u=s.nextValue(t),h=n.nextValue(t))}(),this.generator.next(),e.values.forEach((e=>{var t=this.generator.next(e);null!=t.value&&this.result.push(t.value)}))}nextValue(e){return this.generator.next(e).value}}function macd(e){Indicator.reverseInputs(e);var t=new MACD(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}MACD.calculate=macd;class AverageGain extends Indicator{constructor(e){super(e);let t=e.values,r=e.period,s=this.format;this.generator=function*(e){var t,r,n=yield,i=1,o=0,a=n;for(n=yield;;)(r=(r=n-a)>0?r:0)>0&&(o+=r),i<e?i++:t=void 0===t?o/e:(t*(e-1)+r)/e,a=n,t=void 0!==t?s(t):void 0,n=yield t}(r),this.generator.next(),this.result=[],t.forEach((e=>{var t=this.generator.next(e);void 0!==t.value&&this.result.push(t.value)}))}nextValue(e){return this.generator.next(e).value}}function averagegain(e){Indicator.reverseInputs(e);var t=new AverageGain(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}AverageGain.calculate=averagegain;class AverageLoss extends Indicator{constructor(e){super(e);let t=e.values,r=e.period,s=this.format;this.generator=function*(e){var t,r,n=yield,i=1,o=0,a=n;for(n=yield;;)(r=(r=a-n)>0?r:0)>0&&(o+=r),i<e?i++:t=void 0===t?o/e:(t*(e-1)+r)/e,a=n,t=void 0!==t?s(t):void 0,n=yield t}(r),this.generator.next(),this.result=[],t.forEach((e=>{var t=this.generator.next(e);void 0!==t.value&&this.result.push(t.value)}))}nextValue(e){return this.generator.next(e).value}}function averageloss(e){Indicator.reverseInputs(e);var t=new AverageLoss(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}AverageLoss.calculate=averageloss;class RSI extends Indicator{constructor(e){super(e);var t=e.period,r=e.values,s=new AverageGain({period:t,values:[]}),n=new AverageLoss({period:t,values:[]});this.generator=function*(){for(var e,t,r,i,o=yield;;)e=s.nextValue(o),t=n.nextValue(o),void 0!==e&&void 0!==t&&(0===t?i=100:0===e?i=0:(r=e/t,r=isNaN(r)?0:r,i=parseFloat((100-100/(1+r)).toFixed(2)))),o=yield i}(),this.generator.next(),this.result=[],r.forEach((e=>{var t=this.generator.next(e);void 0!==t.value&&this.result.push(t.value)}))}nextValue(e){return this.generator.next(e).value}}function rsi(e){Indicator.reverseInputs(e);var t=new RSI(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}RSI.calculate=rsi;class SD extends Indicator{constructor(e){super(e);var t=e.period,r=e.values,s=new SMA({period:t,values:[],format:e=>e});this.result=[],this.generator=function*(){var e,r,n,i=new FixedSizeLinkedList(t);for(e=yield;;){if(i.push(e),r=s.nextValue(e)){let e=0;for(let t of i.iterator())e+=Math.pow(t-r,2);n=Math.sqrt(e/t)}e=yield n}}(),this.generator.next(),r.forEach((e=>{var t=this.generator.next(e);null!=t.value&&this.result.push(this.format(t.value))}))}nextValue(e){var t=this.generator.next(e);if(null!=t.value)return this.format(t.value)}}function sd(e){Indicator.reverseInputs(e);var t=new SD(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}SD.calculate=sd;class BollingerBands extends Indicator{constructor(e){super(e);var t,r,s=e.period,n=e.values,i=e.stdDev,o=this.format;this.result=[],t=new SMA({period:s,values:[],format:e=>e}),r=new SD({period:s,values:[],format:e=>e}),this.generator=function*(){var e,s,n,a;for(s=yield;;){if(n=t.nextValue(s),a=r.nextValue(s),n){let t=o(n),r=o(n+a*i),l=o(n-a*i);e={middle:t,upper:r,lower:l,pb:o((s-l)/(r-l))}}s=yield e}}(),this.generator.next(),n.forEach((e=>{var t=this.generator.next(e);null!=t.value&&this.result.push(t.value)}))}nextValue(e){return this.generator.next(e).value}}function bollingerbands(e){Indicator.reverseInputs(e);var t=new BollingerBands(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}BollingerBands.calculate=bollingerbands;class WilderSmoothing extends Indicator{constructor(e){super(e),this.period=e.period,this.price=e.values;this.generator=function*(e){new LinkedList;for(var t=0,r=1,s=yield,n=0;;)r<e?(r++,t+=s,n=void 0):r==e?(r++,n=t+=s):n=n-n/e+s,s=yield n}(this.period),this.generator.next(),this.result=[],this.price.forEach((e=>{var t=this.generator.next(e);null!=t.value&&this.result.push(this.format(t.value))}))}nextValue(e){var t=this.generator.next(e).value;if(null!=t)return this.format(t)}}function wildersmoothing(e){Indicator.reverseInputs(e);var t=new WilderSmoothing(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}WilderSmoothing.calculate=wildersmoothing;class MDM extends Indicator{constructor(e){super(e);var t=e.low,r=e.high,s=this.format;if(t.length!=r.length)throw"Inputs(low,high) not of equal size";this.result=[],this.generator=function*(){for(var e,t,r=yield;;){if(t){let n=r.high-t.high,i=t.low-r.low;e=s(i>n&&i>0?i:0)}t=r,r=yield e}}(),this.generator.next(),t.forEach(((e,s)=>{var n=this.generator.next({high:r[s],low:t[s]});void 0!==n.value&&this.result.push(n.value)}))}static calculate(e){Indicator.reverseInputs(e);var t=new MDM(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}nextValue(e){return this.generator.next(e).value}}class PDM extends Indicator{constructor(e){super(e);var t=e.low,r=e.high,s=this.format;if(t.length!=r.length)throw"Inputs(low,high) not of equal size";this.result=[],this.generator=function*(){for(var e,t,r=yield;;){if(t){let n=r.high-t.high,i=t.low-r.low;e=s(n>i&&n>0?n:0)}t=r,r=yield e}}(),this.generator.next(),t.forEach(((e,s)=>{var n=this.generator.next({high:r[s],low:t[s]});void 0!==n.value&&this.result.push(n.value)}))}static calculate(e){Indicator.reverseInputs(e);var t=new PDM(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}nextValue(e){return this.generator.next(e).value}}class TrueRange extends Indicator{constructor(e){super(e);var t=e.low,r=e.high,s=e.close,n=this.format;if(t.length!=r.length)throw"Inputs(low,high) not of equal size";this.result=[],this.generator=function*(){for(var e,t,r=yield;;)void 0===e&&(e=r.close,r=yield t),t=Math.max(r.high-r.low,isNaN(Math.abs(r.high-e))?0:Math.abs(r.high-e),isNaN(Math.abs(r.low-e))?0:Math.abs(r.low-e)),e=r.close,null!=t&&(t=n(t)),r=yield t}(),this.generator.next(),t.forEach(((e,n)=>{var i=this.generator.next({high:r[n],low:t[n],close:s[n]});null!=i.value&&this.result.push(i.value)}))}nextValue(e){return this.generator.next(e).value}}function truerange(e){Indicator.reverseInputs(e);var t=new TrueRange(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}TrueRange.calculate=truerange;class ADXOutput extends IndicatorInput{}class ADX extends Indicator{constructor(e){super(e);var t=e.low,r=e.high,s=e.close,n=e.period,i=this.format,o=new PDM({high:[],low:[]}),a=new MDM({high:[],low:[]}),l=new WilderSmoothing({period:n,values:[],format:e=>e}),u=new WilderSmoothing({period:n,values:[],format:e=>e}),h=new WilderSmoothing({period:n,values:[],format:e=>e}),c=new WEMA({period:n,values:[],format:e=>e}),d=new TrueRange({low:[],high:[],close:[]});if(t.length!==r.length||r.length!==s.length)throw"Inputs(low,high, close) not of equal size";this.result=[],this.generator=function*(){var e,t,r,s,n=yield;for(0;;){let i=d.nextValue(n),p=o.nextValue(n),v=a.nextValue(n);if(void 0===i){n=yield;continue}let g=h.nextValue(i),m=l.nextValue(p),x=u.nextValue(v);if(null!=g&&null!=m&&null!=x){e=100*m/g,t=100*x/g,r=Math.abs(e-t)/(e+t)*100,s=c.nextValue(r)}n=yield{adx:s,pdi:e,mdi:t}}}(),this.generator.next(),t.forEach(((e,n)=>{var o=this.generator.next({high:r[n],low:t[n],close:s[n]});null!=o.value&&null!=o.value.adx&&this.result.push({adx:i(o.value.adx),pdi:i(o.value.pdi),mdi:i(o.value.mdi)})}))}nextValue(e){let t=this.generator.next(e).value;if(null!=t&&null!=t.adx)return{adx:this.format(t.adx),pdi:this.format(t.pdi),mdi:this.format(t.mdi)}}}function adx(e){Indicator.reverseInputs(e);var t=new ADX(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}ADX.calculate=adx;class ATR extends Indicator{constructor(e){super(e);var t=e.low,r=e.high,s=e.close,n=e.period,i=this.format;if(t.length!==r.length||r.length!==s.length)throw"Inputs(low,high, close) not of equal size";var o=new TrueRange({low:[],high:[],close:[]}),a=new WEMA({period:n,values:[],format:e=>e});this.result=[],this.generator=function*(){for(var e,t,r=yield;;)e=void 0===(t=o.nextValue({low:r.low,high:r.high,close:r.close}))?void 0:a.nextValue(t),r=yield e}(),this.generator.next(),t.forEach(((e,n)=>{var o=this.generator.next({high:r[n],low:t[n],close:s[n]});void 0!==o.value&&this.result.push(i(o.value))}))}nextValue(e){return this.generator.next(e).value}}function atr(e){Indicator.reverseInputs(e);var t=new ATR(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}ATR.calculate=atr;class ROC extends Indicator{constructor(e){super(e);var t=e.period,r=e.values;this.result=[],this.generator=function*(){let e=1;for(var r,s=new FixedSizeLinkedList(t),n=yield;;)s.push(n),e<t?e++:r=(n-s.lastShift)/s.lastShift*100,n=yield r}(),this.generator.next(),r.forEach((e=>{var t=this.generator.next(e);null==t.value||isNaN(t.value)||this.result.push(this.format(t.value))}))}nextValue(e){var t=this.generator.next(e);if(null!=t.value&&!isNaN(t.value))return this.format(t.value)}}function roc(e){Indicator.reverseInputs(e);var t=new ROC(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}ROC.calculate=roc;class KST extends Indicator{constructor(e){super(e);let t=e.values,r=e.ROCPer1,s=e.ROCPer2,n=e.ROCPer3,i=e.ROCPer4,o=e.SMAROCPer1,a=e.SMAROCPer2,l=e.SMAROCPer3,u=e.SMAROCPer4,h=e.signalPeriod,c=new ROC({period:r,values:[]}),d=new ROC({period:s,values:[]}),p=new ROC({period:n,values:[]}),v=new ROC({period:i,values:[]}),g=new SMA({period:o,values:[],format:e=>e}),m=new SMA({period:a,values:[],format:e=>e}),x=new SMA({period:l,values:[],format:e=>e}),w=new SMA({period:u,values:[],format:e=>e}),f=new SMA({period:h,values:[],format:e=>e});var I=this.format;this.result=[];let C=Math.max(r+o,s+a,n+l,i+u);this.generator=function*(){let e,t,r,s,n,i,o,a=1,l=yield;for(;;){let u=c.nextValue(l),h=d.nextValue(l),S=p.nextValue(l),b=v.nextValue(l);t=void 0!==u?g.nextValue(u):void 0,r=void 0!==h?m.nextValue(h):void 0,s=void 0!==S?x.nextValue(S):void 0,n=void 0!==b?w.nextValue(b):void 0,a<C?a++:e=1*t+2*r+3*s+4*n,i=void 0!==e?f.nextValue(e):void 0,o=void 0!==e?{kst:I(e),signal:i?I(i):void 0}:void 0,l=yield o}}(),this.generator.next(),t.forEach((e=>{let t=this.generator.next(e);null!=t.value&&this.result.push(t.value)}))}nextValue(e){let t=this.generator.next(e);if(null!=t.value)return t.value}}function kst(e){Indicator.reverseInputs(e);var t=new KST(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}KST.calculate=kst;class PSAR extends Indicator{constructor(e){super(e);let t=e.high||[],r=e.low||[];this.result=[],this.generator=function*(e,t){let r,s,n,i,o=!0,a=e,l=yield;for(;;)r?(n+=a*(s-n),o?(n=Math.min(n,i.low,l.low),r.high>s&&(s=r.high,a=Math.min(a+e,t))):(n=Math.max(n,i.high,l.high),r.low<s&&(s=r.low,a=Math.min(a+e,t))),(o&&r.low<n||!o&&r.high>n)&&(a=e,n=s,o=!o,s=o?r.high:r.low)):(n=l.low,s=l.high),i=l,r&&(l=r),r=yield n}(e.step,e.max),this.generator.next(),r.forEach(((e,s)=>{var n=this.generator.next({high:t[s],low:r[s]});void 0!==n.value&&this.result.push(n.value)}))}nextValue(e){let t=this.generator.next(e);if(void 0!==t.value)return t.value}}function psar(e){Indicator.reverseInputs(e);var t=new PSAR(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}PSAR.calculate=psar;class Stochastic extends Indicator{constructor(e){super(e);let t=e.low,r=e.high,s=e.close,n=e.period,i=e.signalPeriod,o=this.format;if(t.length!==r.length||r.length!==s.length)throw"Inputs(low,high, close) not of equal size";this.result=[],this.generator=function*(){let e,t,r=1,s=new FixedSizeLinkedList(n,!0,!1),a=new FixedSizeLinkedList(n,!1,!0),l=new SMA({period:i,values:[],format:e=>e});for(var u=yield;;){if(s.push(u.high),a.push(u.low),r<n){r++,u=yield;continue}let i=a.periodLow;e=(u.close-i)/(s.periodHigh-i)*100,e=isNaN(e)?0:e,t=l.nextValue(e),u=yield{k:o(e),d:void 0!==t?o(t):void 0}}}(),this.generator.next(),t.forEach(((e,n)=>{var i=this.generator.next({high:r[n],low:t[n],close:s[n]});void 0!==i.value&&this.result.push(i.value)}))}nextValue(e){let t=this.generator.next(e);if(void 0!==t.value)return t.value}}function stochastic(e){Indicator.reverseInputs(e);var t=new Stochastic(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}Stochastic.calculate=stochastic;class WilliamsR extends Indicator{constructor(e){super(e);let t=e.low,r=e.high,s=e.close,n=e.period,i=this.format;if(t.length!==r.length||r.length!==s.length)throw"Inputs(low,high, close) not of equal size";this.result=[],this.generator=function*(){let e,t,r=1,s=new FixedSizeLinkedList(n,!0,!1),o=new FixedSizeLinkedList(n,!1,!0);var a=yield;let l;for(;;)s.push(a.high),o.push(a.low),r<n?(r++,a=yield):(e=o.periodLow,t=s.periodHigh,l=i((t-a.close)/(t-e)*-100),a=yield l)}(),this.generator.next(),t.forEach(((e,n)=>{var i=this.generator.next({high:r[n],low:t[n],close:s[n]});void 0!==i.value&&this.result.push(i.value)}))}nextValue(e){var t=this.generator.next(e);if(null!=t.value)return this.format(t.value)}}function williamsr(e){Indicator.reverseInputs(e);var t=new WilliamsR(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}WilliamsR.calculate=williamsr;class ADL extends Indicator{constructor(e){super(e);var t=e.high,r=e.low,s=e.close,n=e.volume;if(r.length!==t.length||t.length!==s.length||t.length!==n.length)throw"Inputs(low,high, close, volumes) not of equal size";this.result=[],this.generator=function*(){var e,t=0;for(e=yield;;){let r=(e.close-e.low-(e.high-e.close))/(e.high-e.low);r=isNaN(r)?1:r,t+=r*e.volume,e=yield Math.round(t)}}(),this.generator.next(),t.forEach(((e,t)=>{var i={high:e,low:r[t],close:s[t],volume:n[t]},o=this.generator.next(i);null!=o.value&&this.result.push(o.value)}))}nextValue(e){return this.generator.next(e).value}}function adl(e){Indicator.reverseInputs(e);var t=new ADL(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}ADL.calculate=adl;class OBV extends Indicator{constructor(e){super(e);var t=e.close,r=e.volume;this.result=[],this.generator=function*(){var e,t,r=0;for((e=yield).close&&"number"==typeof e.close&&(t=e.close,e=yield);;)t<e.close?r+=e.volume:e.close<t&&(r-=e.volume),t=e.close,e=yield r}(),this.generator.next(),t.forEach(((e,s)=>{let n={close:t[s],volume:r[s]},i=this.generator.next(n);null!=i.value&&this.result.push(i.value)}))}nextValue(e){return this.generator.next(e).value}}function obv(e){Indicator.reverseInputs(e);var t=new OBV(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}OBV.calculate=obv;class TRIX extends Indicator{constructor(e){super(e);let t=e.values,r=e.period,s=this.format,n=new EMA({period:r,values:[],format:e=>e}),i=new EMA({period:r,values:[],format:e=>e}),o=new EMA({period:r,values:[],format:e=>e}),a=new ROC({period:1,values:[],format:e=>e});this.result=[],this.generator=function*(){let e=yield;for(;;){let t=n.nextValue(e),r=t?i.nextValue(t):void 0,l=r?o.nextValue(r):void 0,u=l?a.nextValue(l):void 0;e=yield u?s(u):void 0}}(),this.generator.next(),t.forEach((e=>{let t=this.generator.next(e);void 0!==t.value&&this.result.push(t.value)}))}nextValue(e){let t=this.generator.next(e);if(void 0!==t.value)return t.value}}function trix(e){Indicator.reverseInputs(e);var t=new TRIX(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}TRIX.calculate=trix;class ForceIndex extends Indicator{constructor(e){super(e);var t=e.close,r=e.volume,s=e.period||1;if(r.length!==t.length)throw"Inputs(volume, close) not of equal size";let n=new EMA({values:[],period:s});this.result=[],this.generator=function*(){var e=yield,t=yield;let r;for(;;)r=(t.close-e.close)*t.volume,e=t,t=yield n.nextValue(r)}(),this.generator.next(),r.forEach(((e,s)=>{var n=this.generator.next({close:t[s],volume:r[s]});null!=n.value&&this.result.push(n.value)}))}nextValue(e){let t=this.generator.next(e).value;if(null!=t)return t}}function forceindex(e){Indicator.reverseInputs(e);var t=new ForceIndex(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}ForceIndex.calculate=forceindex;class CCI extends Indicator{constructor(e){super(e);var t=e.low,r=e.high,s=e.close,n=e.period;this.format;var i=new FixedSizeLinkedList(n),o=new SMA({period:n,values:[],format:e=>e});if(t.length!==r.length||r.length!==s.length)throw"Inputs(low,high, close) not of equal size";this.result=[],this.generator=function*(){for(var e=yield;;){let t=(e.high+e.low+e.close)/3;i.push(t);let r,s=o.nextValue(t),a=null,l=0;if(null!=s){for(let e of i.iterator())l+=Math.abs(e-s);a=l/n,r=(t-s)/(.015*a)}e=yield r}}(),this.generator.next(),t.forEach(((e,n)=>{var i=this.generator.next({high:r[n],low:t[n],close:s[n]});null!=i.value&&this.result.push(i.value)}))}nextValue(e){let t=this.generator.next(e).value;if(null!=t)return t}}function cci(e){Indicator.reverseInputs(e);var t=new CCI(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}CCI.calculate=cci;class AwesomeOscillator extends Indicator{constructor(e){super(e);var t=e.high,r=e.low,s=e.fastPeriod,n=e.slowPeriod,i=new SMA({values:[],period:n}),o=new SMA({values:[],period:s});this.result=[],this.generator=function*(){var e,t,r,s,n;for(t=yield;;)r=(t.high+t.low)/2,s=i.nextValue(r),n=o.nextValue(r),void 0!==s&&void 0!==n&&(e=n-s),t=yield e}(),this.generator.next(),t.forEach(((e,t)=>{var s={high:e,low:r[t]},n=this.generator.next(s);null!=n.value&&this.result.push(this.format(n.value))}))}nextValue(e){var t=this.generator.next(e);if(null!=t.value)return this.format(t.value)}}function awesomeoscillator(e){Indicator.reverseInputs(e);var t=new AwesomeOscillator(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}AwesomeOscillator.calculate=awesomeoscillator;class VWAP extends Indicator{constructor(e){super(e);var t=e.low,r=e.high,s=e.close,n=e.volume;this.format;if(t.length!==r.length||r.length!==s.length)throw"Inputs(low,high, close) not of equal size";this.result=[],this.generator=function*(){var e=yield;let t=0,r=0;for(;;){let s=(e.high+e.low+e.close)/3;t+=e.volume*s,r+=e.volume,e=yield t/r}}(),this.generator.next(),t.forEach(((e,i)=>{var o=this.generator.next({high:r[i],low:t[i],close:s[i],volume:n[i]});null!=o.value&&this.result.push(o.value)}))}nextValue(e){let t=this.generator.next(e).value;if(null!=t)return t}}function vwap(e){Indicator.reverseInputs(e);var t=new VWAP(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}function priceFallsBetweenBarRange(e,t,r,s){return e<=r&&t>=r||r<=e&&s>=e}VWAP.calculate=vwap;class VolumeProfile extends Indicator{constructor(e){super(e);var t=e.high,r=e.low,s=e.close,n=e.open,i=e.volume,o=e.noOfBars;if(r.length!==t.length||t.length!==s.length||t.length!==i.length)throw"Inputs(low,high, close, volumes) not of equal size";this.result=[];var a=Math.max(...t,...r,...s,...n),l=Math.min(...t,...r,...s,...n),u=(a-l)/o,h=l;for(let e=0;e<o;e++){let e=h,o=e+u;h=o;let a=0,l=0,c=0;for(let u=0;u<t.length;u++){let h=r[u],d=t[u],p=n[u],v=s[u],g=i[u];priceFallsBetweenBarRange(e,o,h,d)&&(c+=g,p>v?l+=g:a+=g)}this.result.push({rangeStart:e,rangeEnd:o,bullishVolume:a,bearishVolume:l,totalVolume:c})}}nextValue(e){throw"Next value not supported for volume profile"}}function volumeprofile(e){Indicator.reverseInputs(e);var t=new VolumeProfile(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}VolumeProfile.calculate=volumeprofile;class TypicalPrice extends Indicator{constructor(e){super(e),this.result=[],this.generator=function*(){let e=yield;for(;;)e=yield(e.high+e.low+e.close)/3}(),this.generator.next(),e.low.forEach(((t,r)=>{var s=this.generator.next({high:e.high[r],low:e.low[r],close:e.close[r]});this.result.push(s.value)}))}nextValue(e){return this.generator.next(e).value}}function typicalprice(e){Indicator.reverseInputs(e);var t=new TypicalPrice(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}TypicalPrice.calculate=typicalprice;class MFI extends Indicator{constructor(e){super(e);var t=e.high,r=e.low,s=e.close,n=e.volume,i=e.period,o=new TypicalPrice({low:[],high:[],close:[]}),a=new FixedSizeLinkedList(i,!1,!1,!0),l=new FixedSizeLinkedList(i,!1,!1,!0);if(r.length!==t.length||t.length!==s.length||t.length!==n.length)throw"Inputs(low,high, close, volumes) not of equal size";this.result=[],this.generator=function*(){var e,t,r,s,n=0;let u=null,h=null;for((t=yield).close,t=yield;;){var{high:c,low:d,close:p,volume:v}=t,g=0,m=0;u=o.nextValue({high:c,low:d,close:p}),n=u*v,null!=u&&null!=h&&(u>h?g=n:m=n,a.push(g),l.push(m),r=a.periodSum,s=l.periodSum,a.totalPushed>=i&&a.totalPushed>=i&&(e=100-100/(1+r/s))),h=u,t=yield e}}(),this.generator.next(),t.forEach(((e,t)=>{var i={high:e,low:r[t],close:s[t],volume:n[t]},o=this.generator.next(i);null!=o.value&&this.result.push(parseFloat(o.value.toFixed(2)))}))}nextValue(e){var t=this.generator.next(e);if(null!=t.value)return parseFloat(t.value.toFixed(2))}}function mfi(e){Indicator.reverseInputs(e);var t=new MFI(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}MFI.calculate=mfi;class StochasticRSI extends Indicator{constructor(e){super(e);let t=e.values,r=e.rsiPeriod,s=e.stochasticPeriod,n=e.kPeriod,i=e.dPeriod;this.format;this.result=[],this.generator=function*(){let e,t,o,a,l=new RSI({period:r,values:[]}),u=new Stochastic({period:s,high:[],low:[],close:[],signalPeriod:n}),h=new SMA({period:i,values:[],format:e=>e});for(var c=yield;;){if(e=l.nextValue(c),void 0!==e){var d={high:e,low:e,close:e};t=u.nextValue(d),void 0!==t&&void 0!==t.d&&(o=h.nextValue(t.d),void 0!==o&&(a={stochRSI:t.k,k:t.d,d:o}))}c=yield a}}(),this.generator.next(),t.forEach(((e,t)=>{var r=this.generator.next(e);void 0!==r.value&&this.result.push(r.value)}))}nextValue(e){let t=this.generator.next(e);if(void 0!==t.value)return t.value}}function stochasticrsi(e){Indicator.reverseInputs(e);var t=new StochasticRSI(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}StochasticRSI.calculate=stochasticrsi;class Highest extends Indicator{constructor(e){super(e);var t=e.values,r=e.period;this.result=[];var s=new FixedSizeLinkedList(r,!0,!1,!1);this.generator=function*(){var e,t;for(e=yield;;)s.push(e),s.totalPushed>=r&&(t=s.periodHigh),e=yield t}(),this.generator.next(),t.forEach(((e,t)=>{var r=this.generator.next(e);null!=r.value&&this.result.push(r.value)}))}nextValue(e){var t=this.generator.next(e);if(null!=t.value)return t.value}}function highest(e){Indicator.reverseInputs(e);var t=new Highest(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}Highest.calculate=highest;class Lowest extends Indicator{constructor(e){super(e);var t=e.values,r=e.period;this.result=[];var s=new FixedSizeLinkedList(r,!1,!0,!1);this.generator=function*(){var e,t;for(e=yield;;)s.push(e),s.totalPushed>=r&&(t=s.periodLow),e=yield t}(),this.generator.next(),t.forEach(((e,t)=>{var r=this.generator.next(e);null!=r.value&&this.result.push(r.value)}))}nextValue(e){var t=this.generator.next(e);if(null!=t.value)return t.value}}function lowest(e){Indicator.reverseInputs(e);var t=new Lowest(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}Lowest.calculate=lowest;class Sum extends Indicator{constructor(e){super(e);var t=e.values,r=e.period;this.result=[];var s=new FixedSizeLinkedList(r,!1,!1,!0);this.generator=function*(){var e,t;for(e=yield;;)s.push(e),s.totalPushed>=r&&(t=s.periodSum),e=yield t}(),this.generator.next(),t.forEach(((e,t)=>{var r=this.generator.next(e);null!=r.value&&this.result.push(r.value)}))}nextValue(e){var t=this.generator.next(e);if(null!=t.value)return t.value}}function sum(e){Indicator.reverseInputs(e);var t=new Sum(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}Sum.calculate=sum;class Renko extends Indicator{constructor(e){super(e);this.format;let t=e.useATR,r=e.brickSize||0;if(t){let t=atr(Object.assign({},e));r=t[t.length-1]}if(this.result=new CandleList,0===r)return void console.error("Not enough data to calculate brickSize for renko when using ATR");let s=0,n=0,i=1/0,o=0,a=0,l=0;this.generator=function*(){let e=yield;for(;;){if(0===s){s=e.close,n=e.high,i=e.low,o=e.close,a=e.volume,l=e.timestamp,e=yield;continue}let t=Math.abs(e.close-o),u=Math.abs(e.close-s);if(t>=r&&u>=r){let l=t>u?s:o,h={open:l,high:n>e.high?n:e.high,low:i<e.Low?i:e.low,close:l>e.close?l-r:l+r,volume:a+e.volume,timestamp:e.timestamp};s=h.open,n=h.close,i=h.close,o=h.close,a=0,e=yield h}else n=n>e.high?n:e.high,i=i<e.Low?i:e.low,a+=e.volume,l=e.timestamp,e=yield}}(),this.generator.next(),e.low.forEach(((t,r)=>{var s=this.generator.next({open:e.open[r],high:e.high[r],low:e.low[r],close:e.close[r],volume:e.volume[r],timestamp:e.timestamp[r]});s.value&&(this.result.open.push(s.value.open),this.result.high.push(s.value.high),this.result.low.push(s.value.low),this.result.close.push(s.value.close),this.result.volume.push(s.value.volume),this.result.timestamp.push(s.value.timestamp))}))}nextValue(e){return console.error("Cannot calculate next value on Renko, Every value has to be recomputed for every change, use calcualte method"),null}}function renko(e){Indicator.reverseInputs(e);var t=new Renko(e).result;return e.reversedInput&&(t.open.reverse(),t.high.reverse(),t.low.reverse(),t.close.reverse(),t.volume.reverse(),t.timestamp.reverse()),Indicator.reverseInputs(e),t}Renko.calculate=renko;class HeikinAshi extends Indicator{constructor(e){super(e);this.format;this.result=new CandleList;let t=null,r=0,s=1/0,n=0,i=0,o=0;this.generator=function*(){let e=yield,a=null;for(;;){if(null===t)t=(e.close+e.open)/2,r=e.high,s=e.low,n=(e.close+e.open+e.high+e.low)/4,i=e.volume||0,o=e.timestamp||0,a={open:t,high:r,low:s,close:n,volume:e.volume||0,timestamp:e.timestamp||0};else{let i=(e.close+e.open+e.high+e.low)/4,o=(t+n)/2,l=Math.max(o,i,e.high),u=Math.min(e.low,o,i);a={close:i,open:o,high:l,low:u,volume:e.volume||0,timestamp:e.timestamp||0},n=i,t=o,r=l,s=u}e=yield a}}(),this.generator.next(),e.low.forEach(((t,r)=>{var s=this.generator.next({open:e.open[r],high:e.high[r],low:e.low[r],close:e.close[r],volume:e.volume?e.volume[r]:e.volume,timestamp:e.timestamp?e.timestamp[r]:e.timestamp});s.value&&(this.result.open.push(s.value.open),this.result.high.push(s.value.high),this.result.low.push(s.value.low),this.result.close.push(s.value.close),this.result.volume.push(s.value.volume),this.result.timestamp.push(s.value.timestamp))}))}nextValue(e){return this.generator.next(e).value}}function heikinashi(e){Indicator.reverseInputs(e);var t=new HeikinAshi(e).result;return e.reversedInput&&(t.open.reverse(),t.high.reverse(),t.low.reverse(),t.close.reverse(),t.volume.reverse(),t.timestamp.reverse()),Indicator.reverseInputs(e),t}HeikinAshi.calculate=heikinashi;class CandlestickFinder{constructor(){}approximateEqual(e,t){return 1*parseFloat(Math.abs(e-t).toPrecision(4))<=1*parseFloat((.001*e).toPrecision(4))}logic(e){throw"this has to be implemented"}getAllPatternIndex(e){if(e.close.length<this.requiredCount)return console.warn("Data count less than data required for the strategy ",this.name),[];e.reversedInput&&(e.open.reverse(),e.high.reverse(),e.low.reverse(),e.close.reverse());let t=this.logic;return this._generateDataForCandleStick(e).map(((e,r)=>t.call(this,e)?r:void 0)).filter((e=>e))}hasPattern(e){if(e.close.length<this.requiredCount)return console.warn("Data count less than data required for the strategy ",this.name),!1;return e.reversedInput&&(e.open.reverse(),e.high.reverse(),e.low.reverse(),e.close.reverse()),this.logic.call(this,this._getLastDataForCandleStick(e))}_getLastDataForCandleStick(e){let t=this.requiredCount;if(e.close.length===t)return e;{let r={open:[],high:[],low:[],close:[]},s=0,n=e.close.length-t;for(;s<t;)r.open.push(e.open[n+s]),r.high.push(e.high[n+s]),r.low.push(e.low[n+s]),r.close.push(e.close[n+s]),s++;return r}}_generateDataForCandleStick(e){let t=this.requiredCount;return e.close.map((function(r,s){let n=0,i={open:[],high:[],low:[],close:[]};for(;n<t;)i.open.push(e.open[s+n]),i.high.push(e.high[s+n]),i.low.push(e.low[s+n]),i.close.push(e.close[s+n]),n++;return i})).filter(((r,s)=>s<=e.close.length-t))}}class MorningStar extends CandlestickFinder{constructor(){super(),this.name="MorningStar",this.requiredCount=3}logic(e){let t=e.open[0],r=e.close[0],s=(e.high[0],e.low[0]),n=(e.open[1],e.close[1]),i=e.high[1],o=e.low[1],a=e.open[2],l=e.close[2];e.high[2],e.low[2];return r<t&&(s>o&&s>i)&&(i<s&&o<s&&a>i&&n<a)&&a<l&&l>(t+r)/2}}function morningstar(e){return(new MorningStar).hasPattern(e)}class BullishEngulfingPattern extends CandlestickFinder{constructor(){super(),this.name="BullishEngulfingPattern",this.requiredCount=2}logic(e){let t=e.open[0],r=e.close[0],s=(e.high[0],e.low[0],e.open[1]),n=e.close[1];e.high[1],e.low[1];return r<t&&t>s&&r>s&&t<n}}function bullishengulfingpattern(e){return(new BullishEngulfingPattern).hasPattern(e)}class BullishHarami extends CandlestickFinder{constructor(){super(),this.requiredCount=2,this.name="BullishHarami"}logic(e){let t=e.open[0],r=e.close[0],s=e.high[0],n=(e.low[0],e.open[1]),i=e.close[1],o=e.high[1],a=e.low[1];return t>n&&r<n&&r<i&&t>a&&s>o}}function bullishharami(e){return(new BullishHarami).hasPattern(e)}class BullishHaramiCross extends CandlestickFinder{constructor(){super(),this.requiredCount=2,this.name="BullishHaramiCross"}logic(e){let t=e.open[0],r=e.close[0],s=e.high[0],n=(e.low[0],e.open[1]),i=e.close[1],o=e.high[1],a=e.low[1],l=t>n&&r<n&&r<i&&t>a&&s>o,u=this.approximateEqual(n,i);return l&&u}}function bullishharamicross(e){return(new BullishHaramiCross).hasPattern(e)}class Doji extends CandlestickFinder{constructor(){super(),this.name="Doji",this.requiredCount=1}logic(e){let t=e.open[0],r=e.close[0],s=e.high[0],n=e.low[0],i=this.approximateEqual(t,r),o=i&&this.approximateEqual(t,s),a=i&&this.approximateEqual(r,n);return i&&o==a}}function doji(e){return(new Doji).hasPattern(e)}class MorningDojiStar extends CandlestickFinder{constructor(){super(),this.name="MorningDojiStar",this.requiredCount=3}logic(e){let t=e.open[0],r=e.close[0],s=(e.high[0],e.low[0]),n=e.open[1],i=e.close[1],o=e.high[1],a=e.low[1],l=e.open[2],u=e.close[2],h=(e.high[2],e.low[2],(t+r)/2),c=r<t,d=(new Doji).hasPattern({open:[n],close:[i],high:[o],low:[a]});return c&&d&&l<u&&(o<s&&a<s&&l>o&&i<l)&&u>h}}function morningdojistar(e){return(new MorningDojiStar).hasPattern(e)}class DownsideTasukiGap extends CandlestickFinder{constructor(){super(),this.requiredCount=3,this.name="DownsideTasukiGap"}logic(e){let t=e.open[0],r=e.close[0],s=(e.high[0],e.low[0]),n=e.open[1],i=e.close[1],o=e.high[1],a=(e.low[1],e.open[2]),l=e.close[2];e.high[2],e.low[2];return r<t&&i<n&&l>a&&o<s&&(n>a&&i<a&&l>n&&l<r)}}function downsidetasukigap(e){return(new DownsideTasukiGap).hasPattern(e)}class BullishMarubozu extends CandlestickFinder{constructor(){super(),this.name="BullishMarubozu",this.requiredCount=1}logic(e){let t=e.open[0],r=e.close[0],s=e.high[0],n=e.low[0];return this.approximateEqual(r,s)&&this.approximateEqual(n,t)&&t<r&&t<s}}function bullishmarubozu(e){return(new BullishMarubozu).hasPattern(e)}class PiercingLine extends CandlestickFinder{constructor(){super(),this.requiredCount=2,this.name="PiercingLine"}logic(e){let t=e.open[0],r=e.close[0],s=(e.high[0],e.low[0]),n=e.open[1],i=e.close[1];e.high[1];return e.low[1]<s&&r<t&&(s>n&&i>(t+r)/2)&&i>n}}function piercingline(e){return(new PiercingLine).hasPattern(e)}class ThreeWhiteSoldiers extends CandlestickFinder{constructor(){super(),this.name="ThreeWhiteSoldiers",this.requiredCount=3}logic(e){let t=e.open[0],r=e.close[0],s=e.high[0],n=(e.low[0],e.open[1]),i=e.close[1],o=e.high[1],a=(e.low[1],e.open[2]),l=e.close[2],u=e.high[2];e.low[2];return o>s&&u>o&&(t<r&&n<i&&a<l)&&(r>n&&n<s&&o>a&&a<i)}}function threewhitesoldiers(e){return(new ThreeWhiteSoldiers).hasPattern(e)}class BullishHammerStick extends CandlestickFinder{constructor(){super(),this.name="BullishHammerStick",this.requiredCount=1}logic(e){let t=e.open[0],r=e.close[0],s=e.high[0],n=e.low[0],i=r>t;return i=i&&this.approximateEqual(r,s),i=i&&r-t<=2*(t-n),i}}function bullishhammerstick(e){return(new BullishHammerStick).hasPattern(e)}class BullishInvertedHammerStick extends CandlestickFinder{constructor(){super(),this.name="BullishInvertedHammerStick",this.requiredCount=1}logic(e){let t=e.open[0],r=e.close[0],s=e.high[0],n=e.low[0],i=r>t;return i=i&&this.approximateEqual(t,n),i=i&&r-t<=2*(s-r),i}}function bullishinvertedhammerstick(e){return(new BullishInvertedHammerStick).hasPattern(e)}class BearishHammerStick extends CandlestickFinder{constructor(){super(),this.name="BearishHammerStick",this.requiredCount=1}logic(e){let t=e.open[0],r=e.close[0],s=e.high[0],n=e.low[0],i=t>r;return i=i&&this.approximateEqual(t,s),i=i&&t-r<=2*(r-n),i}}function bearishhammerstick(e){return(new BearishHammerStick).hasPattern(e)}class BearishInvertedHammerStick extends CandlestickFinder{constructor(){super(),this.name="BearishInvertedHammerStick",this.requiredCount=1}logic(e){let t=e.open[0],r=e.close[0],s=e.high[0],n=e.low[0],i=t>r;return i=i&&this.approximateEqual(r,n),i=i&&t-r<=2*(s-t),i}}function bearishinvertedhammerstick(e){return(new BearishInvertedHammerStick).hasPattern(e)}class HammerPattern extends CandlestickFinder{constructor(){super(),this.name="HammerPattern",this.requiredCount=5}logic(e){let t=this.downwardTrend(e);return t=t&&this.includesHammer(e),t=t&&this.hasConfirmation(e),t}downwardTrend(e,t=!0){let r=t?3:4,s=averagegain({values:e.close.slice(0,r),period:r-1});return averageloss({values:e.close.slice(0,r),period:r-1})>s}includesHammer(e,t=!0){let r=t?3:4,s=t?4:void 0,n={open:e.open.slice(r,s),close:e.close.slice(r,s),low:e.low.slice(r,s),high:e.high.slice(r,s)},i=bearishhammerstick(n);return i=i||bearishinvertedhammerstick(n),i=i||bullishhammerstick(n),i=i||bullishinvertedhammerstick(n),i}hasConfirmation(e){e.open[3];let t=e.close[3],r=(e.low[3],e.high[3],e.open[4]),s=e.close[4];e.low[4],e.high[4];return r<s&&t<s}}function hammerpattern(e){return(new HammerPattern).hasPattern(e)}class HammerPatternUnconfirmed extends HammerPattern{constructor(){super(),this.name="HammerPatternUnconfirmed"}logic(e){let t=this.downwardTrend(e,!1);return t=t&&this.includesHammer(e,!1),t}}function hammerpatternunconfirmed(e){return(new HammerPatternUnconfirmed).hasPattern(e)}class TweezerBottom extends CandlestickFinder{constructor(){super(),this.name="TweezerBottom",this.requiredCount=5}logic(e){return this.downwardTrend(e)&&e.low[3]==e.low[4]}downwardTrend(e){let t=averagegain({values:e.close.slice(0,3),period:2});return averageloss({values:e.close.slice(0,3),period:2})>t}}function tweezerbottom(e){return(new TweezerBottom).hasPattern(e)}let bullishPatterns=[new BullishEngulfingPattern,new DownsideTasukiGap,new BullishHarami,new BullishHaramiCross,new MorningDojiStar,new MorningStar,new BullishMarubozu,new PiercingLine,new ThreeWhiteSoldiers,new BullishHammerStick,new BullishInvertedHammerStick,new HammerPattern,new HammerPatternUnconfirmed,new TweezerBottom];class BullishPatterns extends CandlestickFinder{constructor(){super(),this.name="Bullish Candlesticks"}hasPattern(e){return bullishPatterns.reduce((function(t,r){let s=r.hasPattern(e);return t||s}),!1)}}function bullish(e){return(new BullishPatterns).hasPattern(e)}class BearishEngulfingPattern extends CandlestickFinder{constructor(){super(),this.name="BearishEngulfingPattern",this.requiredCount=2}logic(e){let t=e.open[0],r=e.close[0],s=(e.high[0],e.low[0],e.open[1]),n=e.close[1];e.high[1],e.low[1];return r>t&&t<s&&r<s&&t>n}}function bearishengulfingpattern(e){return(new BearishEngulfingPattern).hasPattern(e)}class BearishHarami extends CandlestickFinder{constructor(){super(),this.requiredCount=2,this.name="BearishHarami"}logic(e){let t=e.open[0],r=e.close[0],s=e.high[0],n=(e.low[0],e.open[1]),i=e.close[1],o=e.high[1],a=e.low[1];return t<n&&r>n&&r>i&&t<a&&s>o}}function bearishharami(e){return(new BearishHarami).hasPattern(e)}class BearishHaramiCross extends CandlestickFinder{constructor(){super(),this.requiredCount=2,this.name="BearishHaramiCross"}logic(e){let t=e.open[0],r=e.close[0],s=e.high[0],n=(e.low[0],e.open[1]),i=e.close[1],o=e.high[1],a=e.low[1],l=t<n&&r>n&&r>i&&t<a&&s>o,u=this.approximateEqual(n,i);return l&&u}}function bearishharamicross(e){return(new BearishHaramiCross).hasPattern(e)}class EveningDojiStar extends CandlestickFinder{constructor(){super(),this.name="EveningDojiStar",this.requiredCount=3}logic(e){let t=e.open[0],r=e.close[0],s=e.high[0],n=(e.low[0],e.open[1]),i=e.close[1],o=e.high[1],a=e.low[1],l=e.open[2],u=e.close[2],h=(e.high[2],e.low[2],(t+r)/2),c=r>t,d=(new Doji).hasPattern({open:[n],close:[i],high:[o],low:[a]});return c&&d&&(o>s&&a>s&&l<a&&i>l)&&l>u&&u<h}}function eveningdojistar(e){return(new EveningDojiStar).hasPattern(e)}class EveningStar extends CandlestickFinder{constructor(){super(),this.name="EveningStar",this.requiredCount=3}logic(e){let t=e.open[0],r=e.close[0],s=e.high[0],n=(e.low[0],e.open[1],e.close[1]),i=e.high[1],o=e.low[1],a=e.open[2],l=e.close[2];e.high[2],e.low[2];return r>t&&(s<o&&s<i)&&(i>s&&o>s&&a<o&&n>a)&&a>l&&l<(t+r)/2}}function eveningstar(e){return(new EveningStar).hasPattern(e)}class BearishMarubozu extends CandlestickFinder{constructor(){super(),this.name="BearishMarubozu",this.requiredCount=1}logic(e){let t=e.open[0],r=e.close[0],s=e.high[0],n=e.low[0];return this.approximateEqual(t,s)&&this.approximateEqual(n,r)&&t>r&&t>n}}function bearishmarubozu(e){return(new BearishMarubozu).hasPattern(e)}class ThreeBlackCrows extends CandlestickFinder{constructor(){super(),this.name="ThreeBlackCrows",this.requiredCount=3}logic(e){let t=e.open[0],r=e.close[0],s=(e.high[0],e.low[0]),n=e.open[1],i=e.close[1],o=(e.high[1],e.low[1]),a=e.open[2],l=e.close[2],u=(e.high[2],e.low[2]);return s>o&&o>u&&(t>r&&n>i&&a>l)&&(t>n&&n>r&&n>a&&a>i)}}function threeblackcrows(e){return(new ThreeBlackCrows).hasPattern(e)}class HangingMan extends CandlestickFinder{constructor(){super(),this.name="HangingMan",this.requiredCount=5}logic(e){let t=this.upwardTrend(e);return t=t&&this.includesHammer(e),t=t&&this.hasConfirmation(e),t}upwardTrend(e,t=!0){let r=t?3:4;return averagegain({values:e.close.slice(0,r),period:r-1})>averageloss({values:e.close.slice(0,r),period:r-1})}includesHammer(e,t=!0){let r=t?3:4,s=t?4:void 0,n={open:e.open.slice(r,s),close:e.close.slice(r,s),low:e.low.slice(r,s),high:e.high.slice(r,s)},i=bearishhammerstick(n);return i=i||bullishhammerstick(n),i}hasConfirmation(e){e.open[3];let t=e.close[3],r=(e.low[3],e.high[3],e.open[4]),s=e.close[4];e.low[4],e.high[4];return r>s&&t>s}}function hangingman(e){return(new HangingMan).hasPattern(e)}class HangingManUnconfirmed extends HangingMan{constructor(){super(),this.name="HangingManUnconfirmed"}logic(e){let t=this.upwardTrend(e,!1);return t=t&&this.includesHammer(e,!1),t}}function hangingmanunconfirmed(e){return(new HangingManUnconfirmed).hasPattern(e)}class ShootingStar extends CandlestickFinder{constructor(){super(),this.name="ShootingStar",this.requiredCount=5}logic(e){let t=this.upwardTrend(e);return t=t&&this.includesHammer(e),t=t&&this.hasConfirmation(e),t}upwardTrend(e,t=!0){let r=t?3:4;return averagegain({values:e.close.slice(0,r),period:r-1})>averageloss({values:e.close.slice(0,r),period:r-1})}includesHammer(e,t=!0){let r=t?3:4,s=t?4:void 0,n={open:e.open.slice(r,s),close:e.close.slice(r,s),low:e.low.slice(r,s),high:e.high.slice(r,s)},i=bearishinvertedhammerstick(n);return i=i||bullishinvertedhammerstick(n),i}hasConfirmation(e){e.open[3];let t=e.close[3],r=(e.low[3],e.high[3],e.open[4]),s=e.close[4];e.low[4],e.high[4];return r>s&&t>s}}function shootingstar(e){return(new ShootingStar).hasPattern(e)}class ShootingStarUnconfirmed extends ShootingStar{constructor(){super(),this.name="ShootingStarUnconfirmed"}logic(e){let t=this.upwardTrend(e,!1);return t=t&&this.includesHammer(e,!1),t}}function shootingstarunconfirmed(e){return(new ShootingStarUnconfirmed).hasPattern(e)}class TweezerTop extends CandlestickFinder{constructor(){super(),this.name="TweezerTop",this.requiredCount=5}logic(e){return this.upwardTrend(e)&&e.high[3]==e.high[4]}upwardTrend(e){return averagegain({values:e.close.slice(0,3),period:2})>averageloss({values:e.close.slice(0,3),period:2})}}function tweezertop(e){return(new TweezerTop).hasPattern(e)}let bearishPatterns=[new BearishEngulfingPattern,new BearishHarami,new BearishHaramiCross,new EveningDojiStar,new EveningStar,new BearishMarubozu,new ThreeBlackCrows,new BearishHammerStick,new BearishInvertedHammerStick,new HangingMan,new HangingManUnconfirmed,new ShootingStar,new ShootingStarUnconfirmed,new TweezerTop];class BearishPatterns extends CandlestickFinder{constructor(){super(),this.name="Bearish Candlesticks"}hasPattern(e){return bearishPatterns.reduce((function(t,r){return t||r.hasPattern(e)}),!1)}}function bearish(e){return(new BearishPatterns).hasPattern(e)}class AbandonedBaby extends CandlestickFinder{constructor(){super(),this.name="AbandonedBaby",this.requiredCount=3}logic(e){let t=e.open[0],r=e.close[0],s=(e.high[0],e.low[0]),n=e.open[1],i=e.close[1],o=e.high[1],a=e.low[1],l=e.open[2],u=e.close[2],h=e.high[2],c=e.low[2],d=r<t,p=(new Doji).hasPattern({open:[n],close:[i],high:[o],low:[a]});return d&&p&&(o<s&&c>o&&u>l)&&h<t}}function abandonedbaby(e){return(new AbandonedBaby).hasPattern(e)}class DarkCloudCover extends CandlestickFinder{constructor(){super(),this.name="DarkCloudCover",this.requiredCount=2}logic(e){let t=e.open[0],r=e.close[0],s=e.high[0],n=(e.low[0],e.open[1]),i=e.close[1];e.high[1],e.low[1];return r>t&&i<n&&(n>s&&i<(r+t)/2&&i>t)}}function darkcloudcover(e){return(new DarkCloudCover).hasPattern(e)}class DragonFlyDoji extends CandlestickFinder{constructor(){super(),this.requiredCount=1,this.name="DragonFlyDoji"}logic(e){let t=e.open[0],r=e.close[0],s=e.high[0],n=e.low[0],i=this.approximateEqual(t,r),o=i&&this.approximateEqual(t,s),a=i&&this.approximateEqual(r,n);return i&&o&&!a}}function dragonflydoji(e){return(new DragonFlyDoji).hasPattern(e)}class GraveStoneDoji extends CandlestickFinder{constructor(){super(),this.requiredCount=1,this.name="GraveStoneDoji"}logic(e){let t=e.open[0],r=e.close[0],s=e.high[0],n=e.low[0],i=this.approximateEqual(t,r),o=i&&this.approximateEqual(t,s),a=i&&this.approximateEqual(r,n);return i&&a&&!o}}function gravestonedoji(e){return(new GraveStoneDoji).hasPattern(e)}class BullishSpinningTop extends CandlestickFinder{constructor(){super(),this.name="BullishSpinningTop",this.requiredCount=1}logic(e){let t=e.open[0],r=e.close[0],s=e.high[0],n=e.low[0],i=Math.abs(r-t),o=Math.abs(s-r),a=Math.abs(t-n);return i<o&&i<a}}function bullishspinningtop(e){return(new BullishSpinningTop).hasPattern(e)}class BearishSpinningTop extends CandlestickFinder{constructor(){super(),this.name="BearishSpinningTop",this.requiredCount=1}logic(e){let t=e.open[0],r=e.close[0],s=e.high[0],n=e.low[0],i=Math.abs(r-t),o=Math.abs(s-t),a=Math.abs(s-n);return i<o&&i<a}}function bearishspinningtop(e){return(new BearishSpinningTop).hasPattern(e)}function fibonacciretracement(e,t){let r,s=[0,23.6,38.2,50,61.8,78.6,100,127.2,161.8,261.8,423.6];return r=e<t?s.map((function(r){let s=t-Math.abs(e-t)*r/100;return s>0?s:0})):s.map((function(r){let s=t+Math.abs(e-t)*r/100;return s>0?s:0})),r}class IchimokuCloud extends Indicator{constructor(e){super(e),this.result=[];var t=Object.assign({},{conversionPeriod:9,basePeriod:26,spanPeriod:52,displacement:26},e),r=new FixedSizeLinkedList(2*t.conversionPeriod,!0,!0,!1),s=new FixedSizeLinkedList(2*t.basePeriod,!0,!0,!1),n=new FixedSizeLinkedList(2*t.spanPeriod,!0,!0,!1);this.generator=function*(){let e,i,o=Math.max(t.conversionPeriod,t.basePeriod,t.spanPeriod,t.displacement),a=1;for(i=yield;;){if(r.push(i.high),r.push(i.low),s.push(i.high),s.push(i.low),n.push(i.high),n.push(i.low),a<o)a++;else{let t=(r.periodHigh+r.periodLow)/2,i=(s.periodHigh+s.periodLow)/2;e={conversion:t,base:i,spanA:(t+i)/2,spanB:(n.periodHigh+n.periodLow)/2}}i=yield e}}(),this.generator.next(),e.low.forEach(((t,r)=>{var s=this.generator.next({high:e.high[r],low:e.low[r]});s.value&&this.result.push(s.value)}))}nextValue(e){return this.generator.next(e).value}}function ichimokucloud(e){Indicator.reverseInputs(e);var t=new IchimokuCloud(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}IchimokuCloud.calculate=ichimokucloud;class KeltnerChannelsInput extends IndicatorInput{constructor(){super(...arguments),this.maPeriod=20,this.atrPeriod=10,this.useSMA=!1,this.multiplier=1}}class KeltnerChannelsOutput extends IndicatorInput{}class KeltnerChannels extends Indicator{constructor(e){super(e);var t,r=new(e.useSMA?SMA:EMA)({period:e.maPeriod,values:[],format:e=>e}),s=new ATR({period:e.atrPeriod,high:[],low:[],close:[],format:e=>e});this.result=[],this.generator=function*(){var n;for(t=yield;;){var{close:i}=t,o=r.nextValue(i),a=s.nextValue(t);null!=o&&null!=a&&(n={middle:o,upper:o+e.multiplier*a,lower:o-e.multiplier*a}),t=yield n}}(),this.generator.next(),e.high.forEach(((t,r)=>{var s={high:t,low:e.low[r],close:e.close[r]},n=this.generator.next(s);null!=n.value&&this.result.push(n.value)}))}nextValue(e){var t=this.generator.next(e);if(null!=t.value)return t.value}}function keltnerchannels(e){Indicator.reverseInputs(e);var t=new KeltnerChannels(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}KeltnerChannels.calculate=keltnerchannels;class ChandelierExitInput extends IndicatorInput{constructor(){super(...arguments),this.period=22,this.multiplier=3}}class ChandelierExitOutput extends IndicatorInput{}class ChandelierExit extends Indicator{constructor(e){super(e);var t=e.high,r=e.low,s=e.close;this.result=[];var n=new ATR({period:e.period,high:[],low:[],close:[],format:e=>e}),i=new FixedSizeLinkedList(2*e.period,!0,!0,!1);this.generator=function*(){for(var t,r,s=yield;;){var{high:o,low:a}=s;i.push(o),i.push(a),r=n.nextValue(s),i.totalPushed>=2*e.period&&null!=r&&(t={exitLong:i.periodHigh-r*e.multiplier,exitShort:i.periodLow+r*e.multiplier}),s=yield t}}(),this.generator.next(),t.forEach(((e,t)=>{var n={high:e,low:r[t],close:s[t]},i=this.generator.next(n);null!=i.value&&this.result.push(i.value)}))}nextValue(e){var t=this.generator.next(e);if(null!=t.value)return t.value}}function chandelierexit(e){Indicator.reverseInputs(e);var t=new ChandelierExit(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}ChandelierExit.calculate=chandelierexit;class CrossUp extends Indicator{constructor(e){super(e),this.lineA=e.lineA,this.lineB=e.lineB;var t=[],r=[];this.generator=function*(){for(var e=yield,s=!1;;){t.unshift(e.valueA),r.unshift(e.valueB),s=e.valueA>e.valueB;for(var n=1;!0===s&&t[n]>=r[n];)t[n]>r[n]?s=!1:t[n]<r[n]?s=!0:t[n]===r[n]&&(n+=1);!0===s&&(t=[e.valueA],r=[e.valueB]),e=yield s}}(),this.generator.next(),this.result=[],this.lineA.forEach(((e,t)=>{var r=this.generator.next({valueA:this.lineA[t],valueB:this.lineB[t]});void 0!==r.value&&this.result.push(r.value)}))}static reverseInputs(e){e.reversedInput&&(e.lineA&&e.lineA.reverse(),e.lineB&&e.lineB.reverse())}nextValue(e,t){return this.generator.next({valueA:e,valueB:t}).value}}function crossUp(e){Indicator.reverseInputs(e);var t=new CrossUp(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}CrossUp.calculate=crossUp;class CrossDown extends Indicator{constructor(e){super(e),this.lineA=e.lineA,this.lineB=e.lineB;var t=[],r=[];this.generator=function*(){for(var e=yield,s=!1;;){t.unshift(e.valueA),r.unshift(e.valueB),s=e.valueA<e.valueB;for(var n=1;!0===s&&t[n]<=r[n];)t[n]<r[n]?s=!1:t[n]>r[n]?s=!0:t[n]===r[n]&&(n+=1);!0===s&&(t=[e.valueA],r=[e.valueB]),e=yield s}}(),this.generator.next(),this.result=[],this.lineA.forEach(((e,t)=>{var r=this.generator.next({valueA:this.lineA[t],valueB:this.lineB[t]});void 0!==r.value&&this.result.push(r.value)}))}static reverseInputs(e){e.reversedInput&&(e.lineA&&e.lineA.reverse(),e.lineB&&e.lineB.reverse())}nextValue(e,t){return this.generator.next({valueA:e,valueB:t}).value}}function crossDown(e){Indicator.reverseInputs(e);var t=new CrossDown(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}function getAvailableIndicators(){let e=[];return e.push("sma"),e.push("ema"),e.push("wma"),e.push("wema"),e.push("macd"),e.push("rsi"),e.push("bollingerbands"),e.push("adx"),e.push("atr"),e.push("truerange"),e.push("roc"),e.push("kst"),e.push("psar"),e.push("stochastic"),e.push("williamsr"),e.push("adl"),e.push("obv"),e.push("trix"),e.push("cci"),e.push("awesomeoscillator"),e.push("forceindex"),e.push("vwap"),e.push("volumeprofile"),e.push("renko"),e.push("heikinashi"),e.push("stochasticrsi"),e.push("mfi"),e.push("averagegain"),e.push("averageloss"),e.push("highest"),e.push("lowest"),e.push("sum"),e.push("FixedSizeLinkedList"),e.push("sd"),e.push("bullish"),e.push("bearish"),e.push("abandonedbaby"),e.push("doji"),e.push("bearishengulfingpattern"),e.push("bullishengulfingpattern"),e.push("darkcloudcover"),e.push("downsidetasukigap"),e.push("dragonflydoji"),e.push("gravestonedoji"),e.push("bullishharami"),e.push("bearishharami"),e.push("bullishharamicross"),e.push("bearishharamicross"),e.push("eveningdojistar"),e.push("eveningstar"),e.push("morningdojistar"),e.push("morningstar"),e.push("bullishmarubozu"),e.push("bearishmarubozu"),e.push("piercingline"),e.push("bullishspinningtop"),e.push("bearishspinningtop"),e.push("threeblackcrows"),e.push("threewhitesoldiers"),e.push("bullishhammerstick"),e.push("bearishhammerstick"),e.push("bullishinvertedhammerstick"),e.push("bearishinvertedhammerstick"),e.push("hammerpattern"),e.push("hammerpatternunconfirmed"),e.push("hangingman"),e.push("hangingmanunconfirmed"),e.push("shootingstar"),e.push("shootingstarunconfirmed"),e.push("tweezertop"),e.push("tweezerbottom"),e.push("ichimokucloud"),e.push("keltnerchannels"),e.push("chandelierexit"),e.push("crossup"),e.push("crossdown"),e.push("crossover"),e}CrossDown.calculate=crossDown;let AvailableIndicators=getAvailableIndicators();exports.getAvailableIndicators=getAvailableIndicators,exports.AvailableIndicators=AvailableIndicators,exports.FixedSizeLinkedList=FixedSizeLinkedList,exports.CandleData=CandleData,exports.CandleList=CandleList,exports.sma=sma,exports.SMA=SMA,exports.ema=ema,exports.EMA=EMA,exports.wma=wma,exports.WMA=WMA,exports.wema=wema,exports.WEMA=WEMA,exports.macd=macd,exports.MACD=MACD,exports.rsi=rsi,exports.RSI=RSI,exports.bollingerbands=bollingerbands,exports.BollingerBands=BollingerBands,exports.adx=adx,exports.ADX=ADX,exports.atr=atr,exports.ATR=ATR,exports.truerange=truerange,exports.TrueRange=TrueRange,exports.roc=roc,exports.ROC=ROC,exports.kst=kst,exports.KST=KST,exports.psar=psar,exports.PSAR=PSAR,exports.stochastic=stochastic,exports.Stochastic=Stochastic,exports.williamsr=williamsr,exports.WilliamsR=WilliamsR,exports.adl=adl,exports.ADL=ADL,exports.obv=obv,exports.OBV=OBV,exports.trix=trix,exports.TRIX=TRIX,exports.forceindex=forceindex,exports.ForceIndex=ForceIndex,exports.cci=cci,exports.CCI=CCI,exports.awesomeoscillator=awesomeoscillator,exports.AwesomeOscillator=AwesomeOscillator,exports.vwap=vwap,exports.VWAP=VWAP,exports.volumeprofile=volumeprofile,exports.VolumeProfile=VolumeProfile,exports.mfi=mfi,exports.MFI=MFI,exports.stochasticrsi=stochasticrsi,exports.StochasticRSI=StochasticRSI,exports.averagegain=averagegain,exports.AverageGain=AverageGain,exports.averageloss=averageloss,exports.AverageLoss=AverageLoss,exports.sd=sd,exports.SD=SD,exports.highest=highest,exports.Highest=Highest,exports.lowest=lowest,exports.Lowest=Lowest,exports.sum=sum,exports.Sum=Sum,exports.renko=renko,exports.HeikinAshi=HeikinAshi,exports.heikinashi=heikinashi,exports.bullish=bullish,exports.bearish=bearish,exports.abandonedbaby=abandonedbaby,exports.doji=doji,exports.bearishengulfingpattern=bearishengulfingpattern,exports.bullishengulfingpattern=bullishengulfingpattern,exports.darkcloudcover=darkcloudcover,exports.downsidetasukigap=downsidetasukigap,exports.dragonflydoji=dragonflydoji,exports.gravestonedoji=gravestonedoji,exports.bullishharami=bullishharami,exports.bearishharami=bearishharami,exports.bullishharamicross=bullishharamicross,exports.bearishharamicross=bearishharamicross,exports.eveningdojistar=eveningdojistar,exports.eveningstar=eveningstar,exports.morningdojistar=morningdojistar,exports.morningstar=morningstar,exports.bullishmarubozu=bullishmarubozu,exports.bearishmarubozu=bearishmarubozu,exports.piercingline=piercingline,exports.bullishspinningtop=bullishspinningtop,exports.bearishspinningtop=bearishspinningtop,exports.threeblackcrows=threeblackcrows,exports.threewhitesoldiers=threewhitesoldiers,exports.bullishhammerstick=bullishhammerstick,exports.bearishhammerstick=bearishhammerstick,exports.bullishinvertedhammerstick=bullishinvertedhammerstick,exports.bearishinvertedhammerstick=bearishinvertedhammerstick,exports.hammerpattern=hammerpattern,exports.hammerpatternunconfirmed=hammerpatternunconfirmed,exports.hangingman=hangingman,exports.hangingmanunconfirmed=hangingmanunconfirmed,exports.shootingstar=shootingstar,exports.shootingstarunconfirmed=shootingstarunconfirmed,exports.tweezertop=tweezertop,exports.tweezerbottom=tweezerbottom,exports.fibonacciretracement=fibonacciretracement,exports.ichimokucloud=ichimokucloud,exports.IchimokuCloud=IchimokuCloud,exports.keltnerchannels=keltnerchannels,exports.KeltnerChannels=KeltnerChannels,exports.KeltnerChannelsInput=KeltnerChannelsInput,exports.KeltnerChannelsOutput=KeltnerChannelsOutput,exports.chandelierexit=chandelierexit,exports.ChandelierExit=ChandelierExit,exports.ChandelierExitInput=ChandelierExitInput,exports.ChandelierExitOutput=ChandelierExitOutput,exports.crossUp=crossUp,exports.CrossUp=CrossUp,exports.crossDown=crossDown,exports.CrossDown=CrossDown,exports.setConfig=setConfig,exports.getConfig=getConfig;

// Gán các chỉ báo vào window để có thể truy cập từ chart.js
window.SMA = SMA;
window.EMA = EMA;
window.WMA = WMA;
window.WEMA = WEMA;
window.MACD = MACD;
window.RSI = RSI;
window.BollingerBands = BollingerBands;
window.ADX = ADX;
window.ATR = ATR;
window.ROC = ROC;
window.KST = KST;
window.PSAR = PSAR;
window.Stochastic = Stochastic;
window.WilliamsR = WilliamsR;
window.ADL = ADL;
window.OBV = OBV;
window.TRIX = TRIX;
window.ForceIndex = ForceIndex;
window.CCI = CCI;
window.AwesomeOscillator = AwesomeOscillator;
window.VWAP = VWAP;
window.VolumeProfile = VolumeProfile;
window.MFI = MFI;
window.StochasticRSI = StochasticRSI;
window.Highest = Highest;
window.Lowest = Lowest;
window.Sum = Sum;
window.Renko = Renko;
window.HeikinAshi = HeikinAshi;